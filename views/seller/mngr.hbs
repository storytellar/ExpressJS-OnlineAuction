<!DOCTYPE html>
<html lang="en">

<head>
    <title>Seller</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <script type="text/javascript" src="http://js.nicedit.com/nicEdit-latest.js"></script>
    <script type="text/javascript">
        bkLib.onDomLoaded(function () {
            new nicEditor().panelInstance('area');
        }); // Thay thế text area có id là area1 trở thành WYSIWYG editor sử dụng nicEditor
    </script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />

</head>

<body class="text-white" style="background: rgb(43, 49, 55); position: relative;" data-spy="scroll">
    <nav id="navbar-example2" class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <form action="/seller/logout" id="frmLogout" method="POST"></form>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="nav nav-pills">
            <li class="nav-item">
                <a class="nav-link" href="#add" style="color: #8d9eac;">Đăng sản phẩm</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#cgr" style="color: #8d9eac;">Sản phảm đang bán</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#bidders" style="color: #8d9eac;">Sản phảm đã bán</a>
            </li>
        </ul>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto"></ul>
            <div class="d-flex flex-direction-row justify-content-end">
                <a class="nav-link text-secondary" href="javascript: $('#frmLogout').submit()">Logout</a>
            </div>
        </div>
    </nav>

    <div class="container" style="padding: 10px;">
        <form id="add" method="POST">
            <div class="col-md-11" style="color: #8d9eac;">
                <h4>Đăng sản phẩm</h4>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div id="myCarousel" class="carousel slide" data-ride="carousel">
                        <ol class="carousel-indicators">
                            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                            <li data-target="#myCarousel" data-slide-to="1"></li>
                            <li data-target="#myCarousel" data-slide-to="2"></li>
                        </ol>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img class="d-block w-100" src="http://placehold.it/750x500" />
                            </div>
                            <div class="carousel-item">
                                <img class="d-block w-100" src="http://placehold.it/750x500" />
                            </div>
                            <div class="carousel-item">
                                <img class="d-block w-100" src="http://placehold.it/750x500" />
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                    <div style="padding: 10pt; display: flex; align-items: center; justify-content: center;">
                        <button type="button" class="btn btn-warning">
                            TẢI ẢNH LÊN
                        </button>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="row">
                        <div class="col-md-6">
                            <div style="display: flex; align-items: center; justify-content: center;">
                                <h3>
                                    <span class="badge badge-secondary">Thông tin cơ bản</span>
                                </h3>
                            </div>
                            <div class="form-group">
                                <label for="prodName">Tên sản phẩm</label>
                                <input name="prodName" type="text" class="form-control" id="prodName"
                                    placeholder="Tên sản phẩm">
                            </div>
                            <div class="form-group">
                                <label for="category">Danh mục</label>
                                <select name="catName" class="form-control" id="category">
                                    {{#each this.cats}}
                                    <option value="{{catID}}">{{catName}}</option>
                                    {{/each}}
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="area">Mô tả sản phẩm</label>
                                <textarea name="prodDes" class="form-control" id="area" rows="5"></textarea>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div style="display: flex; align-items: center; justify-content: center;">
                                <h3>
                                    <span class="badge badge-secondary">Chi tiết</span>
                                </h3>
                            </div>
                            <div class="form-group">
                                <label for="startPrice">Giá khởi điểm</label>
                                <input name="startPrice" type="number" class="form-control" id="startPrice">
                            </div>
                            <div class="form-group">
                                <label for="bidPrice">Bước giá</label>
                                <input name="stepPrice" type="number" class="form-control" id="bidPrice">
                            </div>
                            <div class="form-group">
                                <label for="instantPrice">Giá mua ngay (optional)</label>
                                <input name="instantPrice" type="number" class="form-control" id="instantPrice">
                            </div>
                            <div class="form-group">
                                <label for="instantPrice">Ngày kết thúc</label>
                                <input name="endDate" type="date" class="form-control" id="instantPrice">
                            </div>
                            <div>
                                <h6>
                                    <span style="color: #8d9eac;">
                                        *Mọi vấn đề phát sinh sau khi sản phẩm đã kết thúc đấu giá
                                        người bán và người mua tự chịu trách nhiệm và giải quyết.
                                    </span>
                                </h6>
                                <div style="display: flex; align-items: center; justify-content: center;">
                                    <button formaction="/seller/add" style="font-size: large;" class="btn btn-danger"
                                        type="submit">
                                        Đăng bài</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div id="cgr" style="color: #8d9eac;">
            <div class="row" style="padding: 10px;">
                <div class="col-md-11">
                    <h4>Quản lý sản phẩm đang bán</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <table class="table table-hover shopping-cart-wrap">
                            <thead class="text-muted">
                                <tr>
                                    <th scope="col">Sản phẩm</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each this.productOnSale}}
                                <form method="POST">
                                    <tr>
                                        <td>
                                            <figure class="media">
                                                <figcaption class="media-body">
                                                    <input
                                                        style="background-color:transparent !important; border:none !important;"
                                                        type="hidden" class="form-control" name="id" readonly
                                                        value="{{ID}}">
                                                    <input
                                                        style="background-color:transparent !important; border:none !important;"
                                                        type="text" class="form-control" name="name" readonly
                                                        value="{{itemName}}">
                                                </figcaption>
                                            </figure>
                                        </td>
                                        <td>
                                            <figure class="media">
                                                <figcaption class="media-body">
                                                    <input
                                                        style="background-color:transparent !important; border:none !important;"
                                                        type="text" class="form-control" placeholder="Bổ sung thông tin"
                                                        name="des" value="">
                                                </figcaption>
                                            </figure>
                                        </td>
                                        <td class="text-right">
                                            <button type="button" class="btn btn-outline-warning" data-toggle="modal"
                                                data-target="#pInfo{{ID}}">
                                                Chi tiết
                                            </button>
                                            <button type="submit" class="btn btn-outline-secondary"
                                                    formaction="/seller/update">
                                                Bổ sung
                                            </button>
                                        </td>
                                        <div class="modal fade" id="pInfo{{ID}}" tabindex="-1" role="dialog"
                                            aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title">{{itemName}}</h5>
                                                        <button type="button" class="close" data-dismiss="modal"
                                                            aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <h6>Giá cao nhất: {{price}}</h6>
                                                        <h6>Mô tả: {{prodDes}}</h6>
                                                        <h6>Người ra: {{top1}}</h6>
                                                        <h6>Ngày đăng: {{postDate}}</h6>
                                                        <h6>Lượt bid: {{numOfBid}}</h6>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary"
                                                            data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </tr>
                                </form>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div id="bidders" style="color: #8d9eac;">
            <div class="col-md-11" style="padding: 10px;">
                <h4>Sản phẩm đã bán</h4>
            </div>
            <div class="row">
                <div class="col-md-8">
                    <div class="card">
                        <table class="table table-hover shopping-cart-wrap">
                            <thead class="text-muted">
                                <tr>
                                    <th scope="col">Sản phẩm</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each productSold}}
                                <form method="POST">
                                    <tr>
                                        <td>
                                            <figure class="media">
                                                <figcaption class="media-body">
                                                    <input
                                                        style="background-color:transparent !important; border:none !important;"
                                                        type="hidden" class="form-control" name="id" readonly
                                                        value="{{ID}}">
                                                    <input
                                                        style="background-color:transparent !important; border:none !important;"
                                                        type="text" class="form-control" name="name" readonly
                                                        value="{{itemName}}">
                                                </figcaption>
                                            </figure>
                                        </td>
                                        <td class="text-right">
                                            <button type="button" class="btn btn-outline-warning" data-toggle="modal"
                                                data-target="#Info{{ID}}">
                                                Chi tiết
                                            </button>
                                        </td>
                                        <div class="modal fade" id="Info{{ID}}" tabindex="-1" role="dialog"
                                            aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title">{{itemName}}</h5>
                                                        <button type="button" class="close" data-dismiss="modal"
                                                            aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <h6>Giá chót: {{price}}</h6>
                                                        <h6>Người thắng: {{top1}}</h6>
                                                        <h6>Ngày đăng: {{postDate}}</h6>
                                                        <h6>Lượt bid: {{numOfBid}}</h6>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary"
                                                            data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </tr>
                                </form>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>